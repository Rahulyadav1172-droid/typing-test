<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UP Police Typing Test | ASI/SI/Computer Operator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    :root {
        --primary-dark: #1a1f2e;
        --secondary-dark: #252b3d;
        --accent-gold: #d4af37;
        --accent-blue: #4a90e2;
        --text-light: #e8e8e8;
        --text-muted: #a0a0a0;
        --success-green: #00ff88;
        --error-red: #ff3366;
        --border-color: #3a4052;
    }

    body {
        font-family: 'Source Sans 3', sans-serif;
        background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 50%, #252b3d 100%);
        color: var(--text-light);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        position: relative;
        overflow-x: hidden;
    }

    /* Decorative background elements */
    body::before {
        content: '';
        position: fixed;
        top: -50%;
        right: -20%;
        width: 80%;
        height: 80%;
        background: radial-gradient(circle, rgba(212, 175, 55, 0.03) 0%, transparent 70%);
        pointer-events: none;
        z-index: 0;
    }

    body::after {
        content: '';
        position: fixed;
        bottom: -50%;
        left: -20%;
        width: 80%;
        height: 80%;
        background: radial-gradient(circle, rgba(74, 144, 226, 0.03) 0%, transparent 70%);
        pointer-events: none;
        z-index: 0;
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
        width: 100%;
        position: relative;
        z-index: 1;
    }

    /* Header */
    header {
        text-align: center;
        padding: 30px 0;
        border-bottom: 2px solid var(--border-color);
        margin-bottom: 30px;
        animation: slideDown 0.6s ease-out;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    h1 {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 3.5rem;
        letter-spacing: 4px;
        color: var(--accent-gold);
        text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        margin-bottom: 10px;
    }

    .subtitle {
        font-size: 1.1rem;
        color: var(--text-muted);
        font-weight: 300;
        letter-spacing: 2px;
        text-transform: uppercase;
    }

    /* Control Panel */
    .control-panel {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
        animation: fadeIn 0.8s ease-out 0.2s backwards;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .control-group {
        background: var(--secondary-dark);
        padding: 25px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
    }

    .control-group:hover {
        border-color: var(--accent-gold);
        box-shadow: 0 5px 25px rgba(212, 175, 55, 0.1);
        transform: translateY(-2px);
    }

    .control-label {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 1.3rem;
        letter-spacing: 2px;
        color: var(--accent-gold);
        margin-bottom: 15px;
        display: block;
    }

    .btn-group {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .btn {
        flex: 1;
        min-width: 80px;
        padding: 12px 20px;
        border: 2px solid var(--border-color);
        background: var(--primary-dark);
        color: var(--text-light);
        font-family: 'Source Sans 3', sans-serif;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        border-radius: 8px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .btn:hover {
        border-color: var(--accent-blue);
        background: var(--accent-blue);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3);
    }

    .btn.active {
        background: var(--accent-gold);
        border-color: var(--accent-gold);
        color: var(--primary-dark);
    }

    .btn-start {
        width: 100%;
        padding: 18px;
        background: linear-gradient(135deg, var(--accent-gold) 0%, #c9a347 100%);
        border: none;
        color: var(--primary-dark);
        font-size: 1.2rem;
        font-weight: 700;
        cursor: pointer;
        border-radius: 10px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 2px;
        box-shadow: 0 5px 20px rgba(212, 175, 55, 0.4);
    }

    .btn-start:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 30px rgba(212, 175, 55, 0.6);
    }

    .btn-start:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
    }

    /* Radio buttons */
    .radio-group {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
    }

    .radio-label {
        display: flex;
        align-items: center;
        cursor: pointer;
        font-size: 1rem;
        transition: color 0.3s ease;
    }

    .radio-label:hover {
        color: var(--accent-gold);
    }

    .radio-label input[type="radio"] {
        margin-right: 8px;
        width: 18px;
        height: 18px;
        cursor: pointer;
        accent-color: var(--accent-gold);
    }

    /* Stats Panel */
    .stats-panel {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
        animation: fadeIn 0.8s ease-out 0.4s backwards;
    }

    .stat-card {
        background: var(--secondary-dark);
        padding: 25px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .stat-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, transparent, var(--accent-gold), transparent);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .stat-card:hover::before {
        opacity: 1;
    }

    .stat-card:hover {
        border-color: var(--accent-gold);
        transform: translateY(-3px);
        box-shadow: 0 5px 25px rgba(212, 175, 55, 0.15);
    }

    .stat-label {
        font-size: 0.9rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 10px;
    }

    .stat-value {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 2.5rem;
        color: var(--accent-gold);
        letter-spacing: 2px;
    }

    .timer-value {
        color: var(--accent-blue);
    }

    .timer-value.warning {
        color: #ff9500;
        animation: pulse 1s infinite;
    }

    .timer-value.danger {
        color: var(--error-red);
        animation: pulse 0.5s infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
    }

    /* Test Area */
    .test-container {
        display: grid;
        grid-template-rows: 1fr 1fr;
        gap: 20px;
        height: 60vh;
        min-height: 500px;
        animation: fadeIn 0.8s ease-out 0.6s backwards;
    }

    .text-display {
        background: var(--secondary-dark);
        padding: 30px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        overflow-y: auto;
        font-size: 1.1rem;
        line-height: 1.8;
        position: relative;
    }

    .text-display::before {
        content: 'REFERENCE TEXT';
        position: absolute;
        top: 10px;
        left: 30px;
        font-family: 'Bebas Neue', sans-serif;
        font-size: 0.9rem;
        letter-spacing: 2px;
        color: var(--text-muted);
        opacity: 0.5;
    }

    .text-display.hindi {
        font-family: 'Mangal', 'Noto Sans Devanagari', sans-serif;
        font-size: 1.3rem;
    }

    .typing-area {
        background: var(--primary-dark);
        padding: 30px;
        border-radius: 12px;
        border: 2px solid var(--border-color);
        position: relative;
        transition: border-color 0.3s ease;
    }

    .typing-area:focus-within {
        border-color: var(--accent-gold);
        box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
    }

    .typing-area::before {
        content: 'YOUR INPUT';
        position: absolute;
        top: 10px;
        left: 30px;
        font-family: 'Bebas Neue', sans-serif;
        font-size: 0.9rem;
        letter-spacing: 2px;
        color: var(--text-muted);
        opacity: 0.5;
    }

    #typingInput {
        width: 100%;
        height: calc(100% - 40px);
        margin-top: 30px;
        background: transparent;
        border: none;
        color: var(--text-light);
        font-size: 1.1rem;
        font-family: 'Source Sans 3', sans-serif;
        line-height: 1.8;
        resize: none;
        outline: none;
    }

    #typingInput.hindi {
        font-family: 'Mangal', 'Noto Sans Devanagari', sans-serif;
        font-size: 1.3rem;
    }

    /* Word highlighting */
    .word {
        display: inline;
        padding: 2px 0;
        transition: all 0.2s ease;
    }

    .word.correct {
        color: var(--success-green);
        text-shadow: 0 0 8px rgba(0, 255, 136, 0.3);
    }

    .word.incorrect {
        color: var(--error-red);
        text-shadow: 0 0 8px rgba(255, 51, 102, 0.3);
        text-decoration: underline wavy var(--error-red);
    }

    /* Result Modal */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease;
    }

    .modal.active {
        display: flex;
    }

    .modal-content {
        background: var(--secondary-dark);
        padding: 50px;
        border-radius: 20px;
        border: 2px solid var(--border-color);
        max-width: 600px;
        width: 90%;
        text-align: center;
        animation: scaleIn 0.4s ease;
        position: relative;
    }

    @keyframes scaleIn {
        from {
            opacity: 0;
            transform: scale(0.8);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    .result-badge {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 4rem;
        letter-spacing: 4px;
        margin-bottom: 20px;
        text-shadow: 0 0 30px currentColor;
    }

    .result-badge.qualified {
        color: var(--success-green);
    }

    .result-badge.not-qualified {
        color: var(--error-red);
    }

    .result-stats {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 30px 0;
    }

    .result-stat {
        padding: 20px;
        background: var(--primary-dark);
        border-radius: 10px;
        border: 1px solid var(--border-color);
    }

    .result-stat-label {
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-bottom: 5px;
    }

    .result-stat-value {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 2rem;
        color: var(--accent-gold);
    }

    .btn-close {
        margin-top: 20px;
        padding: 15px 40px;
        background: var(--accent-gold);
        border: none;
        color: var(--primary-dark);
        font-size: 1.1rem;
        font-weight: 700;
        cursor: pointer;
        border-radius: 10px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .btn-close:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(212, 175, 55, 0.5);
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
        width: 10px;
    }

    ::-webkit-scrollbar-track {
        background: var(--primary-dark);
    }

    ::-webkit-scrollbar-thumb {
        background: var(--accent-gold);
        border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #c9a347;
    }

    /* Responsive */
    @media (max-width: 768px) {
        h1 {
            font-size: 2.5rem;
        }

        .control-panel {
            grid-template-columns: 1fr;
        }

        .stats-panel {
            grid-template-columns: repeat(2, 1fr);
        }

        .test-container {
            height: auto;
            min-height: 600px;
        }

        .modal-content {
            padding: 30px;
        }

        .result-badge {
            font-size: 3rem;
        }
    }

    .info-text {
        text-align: center;
        color: var(--text-muted);
        font-size: 0.95rem;
        margin-top: 20px;
        line-height: 1.6;
    }

    .info-text strong {
        color: var(--accent-gold);
    }
</style>
```

</head>
<body>
    <div class="container">
        <header>
            <h1>UP POLICE TYPING TEST</h1>
            <p class="subtitle">ASI / SI / Computer Operator Exam Simulator</p>
        </header>

```
    <div class="control-panel">
        <div class="control-group">
            <label class="control-label">Language Selection</label>
            <div class="btn-group">
                <button class="btn active" id="btnEnglish">English</button>
                <button class="btn" id="btnHindi">हिन्दी</button>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">Difficulty Level</label>
            <div class="radio-group">
                <label class="radio-label">
                    <input type="radio" name="difficulty" value="low" checked>
                    Easy
                </label>
                <label class="radio-label">
                    <input type="radio" name="difficulty" value="medium">
                    Moderate
                </label>
                <label class="radio-label">
                    <input type="radio" name="difficulty" value="high">
                    Complex
                </label>
            </div>
        </div>

        <div class="control-group">
            <button class="btn-start" id="btnStart">Start New Test</button>
        </div>
    </div>

    <div class="stats-panel">
        <div class="stat-card">
            <div class="stat-label">Time Remaining</div>
            <div class="stat-value timer-value" id="timer">15:00</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">WPM</div>
            <div class="stat-value" id="wpm">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Accuracy</div>
            <div class="stat-value" id="accuracy">100%</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Correct Words</div>
            <div class="stat-value" id="correctWords">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Wrong Words</div>
            <div class="stat-value" id="wrongWords">0</div>
        </div>
    </div>

    <div class="test-container">
        <div class="text-display" id="textDisplay">
            <p style="margin-top: 30px; color: var(--text-muted); text-align: center;">
                Click "Start New Test" to begin. Select your preferred language and difficulty level first.
            </p>
        </div>
        <div class="typing-area">
            <textarea 
                id="typingInput" 
                placeholder="Start typing here once the test begins..."
                disabled
            ></textarea>
        </div>
    </div>

    <div class="info-text">
        <strong>Qualification Criteria:</strong> English - 30 WPM minimum | Hindi - 25 WPM minimum | 
        Test Duration: 15 minutes | Word-by-word accuracy calculation
    </div>
</div>

<!-- Result Modal -->
<div class="modal" id="resultModal">
    <div class="modal-content">
        <div class="result-badge" id="resultBadge">QUALIFIED</div>
        <p id="resultMessage" style="font-size: 1.2rem; color: var(--text-muted); margin-bottom: 20px;"></p>
        
        <div class="result-stats">
            <div class="result-stat">
                <div class="result-stat-label">Final WPM</div>
                <div class="result-stat-value" id="finalWPM">0</div>
            </div>
            <div class="result-stat">
                <div class="result-stat-label">Accuracy</div>
                <div class="result-stat-value" id="finalAccuracy">0%</div>
            </div>
            <div class="result-stat">
                <div class="result-stat-label">Correct Words</div>
                <div class="result-stat-value" id="finalCorrect">0</div>
            </div>
            <div class="result-stat">
                <div class="result-stat-label">Wrong Words</div>
                <div class="result-stat-value" id="finalWrong">0</div>
            </div>
        </div>

        <button class="btn-close" id="btnCloseModal">Close & Start New Test</button>
    </div>
</div>

<script>
    // Paragraph Database
    const paragraphs = {
        english: {
            low: [
                "The police department serves the community with dedication and honor. Officers work day and night to maintain peace and order. They protect citizens from crime and ensure public safety. Police officers undergo rigorous training to handle various situations. They respond to emergency calls and investigate crimes. The department maintains law and order in the state. Officers patrol the streets and prevent criminal activities. They help people in need and provide assistance during emergencies. The police force is committed to serving the public. Every officer takes an oath to uphold justice and protect the innocent. Community policing helps build trust between citizens and officers. The department uses modern technology to fight crime effectively. Police personnel attend regular training programs to improve their skills. They work in coordination with other law enforcement agencies. The force maintains detailed records of all criminal activities. Officers are trained in first aid and emergency response. They participate in community awareness programs regularly. The department conducts regular public meetings to address concerns. Police stations are accessible to all citizens at any time. The force maintains transparency in all its operations. Officers treat everyone with respect and dignity. The department encourages citizens to report suspicious activities. Police personnel work in shifts to provide round the clock service. They maintain strict discipline and follow proper procedures. The force is equipped with modern vehicles and communication systems. Officers are trained to handle crowd control situations. They investigate complaints thoroughly and take appropriate action. The department maintains good relations with the local community. Police officers are role models for the youth. They participate in sports and cultural events regularly.",
                "Law enforcement is a crucial pillar of any democratic society. The police force maintains peace and protects the rights of citizens. Officers undergo extensive training in various aspects of policing. They learn about criminal law, investigation techniques, and community relations. The department follows strict protocols and procedures in all operations. Police personnel are trained to handle difficult situations with calmness. They use appropriate force only when necessary and justified. The force maintains detailed documentation of all cases and incidents. Officers work in teams to solve complex criminal cases. They coordinate with forensic experts and other specialists. The department uses advanced technology for crime detection and prevention. Police stations are equipped with modern communication systems. Officers maintain regular patrol schedules in their assigned areas. They interact with citizens and address their concerns promptly. The force conducts awareness programs on various social issues. Police personnel participate in traffic management and road safety campaigns. They help in disaster management and relief operations. The department maintains a special unit for women and children. Officers are trained in cyber crime investigation techniques. They work to prevent organized crime and terrorism. The force maintains intelligence networks to gather information. Police personnel coordinate with neighboring districts during operations. They conduct regular drills and training exercises. The department emphasizes ethical conduct and professional behavior. Officers are expected to maintain high standards of integrity. They undergo regular physical fitness tests and medical examinations.",
                "Administrative duties form an important part of police work. Officers maintain detailed records of all activities and incidents. They prepare reports and submit them to senior authorities. The department follows a hierarchical structure with clear responsibilities. Police personnel attend regular meetings and briefings. They discuss cases, share information, and plan operations. The force uses computer systems for data management and analysis. Officers are trained in report writing and documentation. They maintain registers for various categories of cases. The department conducts regular audits and inspections. Police stations are required to maintain proper accounts. Officers handle public grievances and resolve disputes. They mediate in civil matters and prevent conflicts. The force maintains liaison with other government departments. Police personnel assist in election duty and public events. They ensure proper crowd management during festivals. The department conducts regular verification checks. Officers issue various certificates and clearances to citizens. They maintain records of missing persons and unidentified bodies. The force coordinates with the judicial system for court proceedings. Police personnel provide security to VIPs and important installations. They escort prisoners and maintain custody arrangements. The department manages training facilities and resource centers. Officers conduct recruitment drives and selection procedures. They organize sports competitions and cultural programs. The force maintains welfare schemes for personnel and families."
            ],
            medium: [
                "The Uttar Pradesh Police has a distinguished history of serving the people with dedication and professionalism. Established during the British era, it has evolved into one of the largest state police forces in India. The department operates under the supervision of the Director General of Police who reports directly to the state government. Various specialized units handle specific responsibilities including crime investigation, intelligence gathering, traffic management, and anti-terrorism operations. The force maintains a strong presence across all districts with well-equipped police stations and outposts. Officers are recruited through competitive examinations conducted by the state recruitment board. They undergo comprehensive training at police academies before being posted to various locations. The curriculum includes physical training, weapons handling, law enforcement procedures, and community relations. Modern technology plays a crucial role in contemporary policing methods. The department has implemented computerized systems for crime records, vehicle registration, and citizen services. Digital platforms enable citizens to file complaints online and track their progress. Mobile applications provide quick access to emergency services and information. The force has established dedicated helplines for women, senior citizens, and children facing distress. Specialized units investigate cybercrimes, economic offenses, and organized criminal activities. The department collaborates with central agencies for major investigations and operations. Regular workshops and seminars are conducted to update officers on latest trends in crime and investigation techniques. The force emphasizes community policing to build trust and cooperation with citizens. Neighborhood watch programs and citizen police committees facilitate better communication. Officers conduct awareness campaigns on various issues affecting public safety and security. The department has implemented strict measures to ensure accountability and transparency in operations.",
                "Criminal investigation is a complex process requiring specialized skills and systematic approach. Investigators examine crime scenes carefully to collect physical evidence and documentation. They interview witnesses, victims, and suspects to gather relevant information. Forensic experts analyze evidence using scientific methods and advanced technology. The investigation team maintains detailed case files with proper documentation of all proceedings. Officers follow legal procedures to ensure admissibility of evidence in court. Search operations are conducted with proper warrants and authorization. Surveillance techniques are employed to monitor suspects and gather intelligence. The department maintains databases of criminals, stolen property, and fingerprints. Modern technology enables quick verification and matching of evidence. Investigators coordinate with other law enforcement agencies for inter-state cases. They use analytical tools to identify patterns and connections between crimes. The prosecution team works closely with investigators to build strong cases. Officers prepare charge sheets and present evidence before courts. The department has established forensic laboratories equipped with modern instruments. DNA profiling, ballistics, and toxicology tests aid in solving complex cases. Cyber forensics helps investigate digital crimes and recover electronic evidence. The force maintains custody of seized property and exhibits. Regular training programs update officers on latest investigation techniques. The department follows international best practices in criminal investigation. Officers are trained to handle sensitive cases involving women and children. Special investigation teams are formed for high-profile cases. The force maintains confidentiality of ongoing investigations to protect witnesses. Intelligence units gather information on criminal networks and activities.",
                "Police administration involves various responsibilities beyond law enforcement activities. Officers manage human resources, financial allocations, and infrastructure development. The department prepares annual budgets and submits them to the government. Resource planning ensures optimal deployment of personnel and equipment. Training facilities are maintained to enhance skills and knowledge of police personnel. The force conducts regular performance evaluations and merit assessments. Promotion policies are based on service records, examinations, and departmental requirements. Officers handle disciplinary matters and conduct internal inquiries when necessary. The department maintains welfare schemes for personnel including housing, medical facilities, and educational support. Administrative units coordinate with various government departments for smooth operations. Police stations maintain proper records as mandated by regulations. Officers prepare monthly reports on crime statistics and departmental activities. The force implements government policies and circulars effectively. Public relation units handle media interactions and information dissemination. The department organizes public meetings to address community concerns. Administrative officers ensure compliance with legal requirements and procedures. They monitor budgetary expenditures and maintain financial discipline. Infrastructure development includes construction of police stations, quarters, and training facilities. The force procures modern equipment and vehicles for operational efficiency. Communication systems are regularly upgraded to meet technological requirements. The department maintains liaison with other states for operational coordination. Officers participate in national and international conferences on policing. The force implements e-governance initiatives for better service delivery. Administrative reforms are introduced periodically to improve effectiveness."
            ],
            high: [
                "Contemporary law enforcement faces unprecedented challenges requiring sophisticated strategies and multidisciplinary approaches. The proliferation of technology has transformed traditional crime patterns, necessitating continuous adaptation of investigative methodologies. Cybercriminals exploit vulnerabilities in digital infrastructure, conducting operations across geographical boundaries with relative impunity. Financial frauds have become increasingly complex, involving intricate networks of shell companies and cryptocurrency transactions. Organized criminal syndicates operate with corporate-like efficiency, employing advanced communication systems and counter-surveillance techniques. Terrorism remains a persistent threat, with extremist organizations utilizing social media for recruitment, radicalization, and operational planning. Drug trafficking networks have evolved into transnational enterprises, corrupting institutions and destabilizing societies. Human trafficking continues to thrive, exploiting vulnerable populations through coercion, deception, and violence. Environmental crimes, including illegal mining, deforestation, and wildlife trafficking, cause irreparable damage to ecosystems. White-collar crimes drain national resources through sophisticated schemes involving multiple jurisdictions. Corruption undermines governance structures and erodes public trust in institutions. Money laundering operations disguise proceeds from illegal activities through complex financial transactions. Identity theft and fraud have proliferated with digitization of personal information. Ransomware attacks target critical infrastructure, healthcare facilities, and government systems. Intellectual property theft impacts economic competitiveness and innovation. Domestic violence and crimes against vulnerable populations require sensitive handling and victim-centric approaches. Hate crimes motivated by prejudice threaten social cohesion and communal harmony. Gang violence in urban areas creates cycles of retribution and community trauma. Maritime piracy disrupts international trade and threatens seafarer safety. Arms trafficking fuels conflicts and facilitates other criminal enterprises.",
                "Forensic science has revolutionized criminal investigation through application of scientific principles and technological innovations. DNA profiling enables identification of individuals from biological samples with remarkable accuracy. Fingerprint analysis remains fundamental, enhanced by automated systems that compare millions of records instantaneously. Ballistics examination determines firearm identification and trajectory analysis in shooting incidents. Toxicology testing detects presence of drugs, poisons, and other substances in biological specimens. Digital forensics recovers evidence from computers, smartphones, and other electronic devices. Forensic accounting traces financial transactions and identifies irregularities in complex schemes. Document examination authenticates questioned documents and detects forgeries. Forensic psychology provides insights into criminal behavior and assists in profiling offenders. Forensic entomology uses insect evidence to estimate time of death and other circumstances. Forensic anthropology aids in identification of skeletal remains and analysis of trauma. Bloodstain pattern analysis reconstructs events at crime scenes from blood distribution. Trace evidence including fibers, hair, and glass fragments provides crucial links between suspects and crimes. Forensic odontology employs dental records for identification purposes. Voice analysis compares speech patterns and identifies speakers in audio recordings. Facial recognition technology matches images against databases for suspect identification. Questioned document examination analyzes handwriting, typewriting, and printing characteristics. Forensic engineering investigates structural failures and accident reconstruction. Fire investigation determines origin, cause, and circumstances of blazes. Forensic pathology determines cause and manner of death through autopsy examinations. Crime scene reconstruction integrates physical evidence to establish sequence of events.",
                "Constitutional provisions guarantee fundamental rights while empowering law enforcement to maintain public order. The Indian Penal Code defines offenses and prescribes punishments for various criminal acts. Criminal Procedure Code establishes procedures for investigation, trial, and appeals. Evidence Act governs admissibility and evaluation of evidence in judicial proceedings. Police forces derive authority from state police acts and regulations. Powers of arrest require reasonable suspicion and adherence to procedural safeguards. Search and seizure operations necessitate proper authorization except in exigent circumstances. Detention and custody regulations protect rights of accused persons during investigation. Bail provisions balance liberty interests with necessity of securing accused presence. Witness protection measures safeguard persons providing testimony in serious cases. Victim compensation schemes provide financial assistance to crime victims. Juvenile justice system emphasizes rehabilitation over punitive measures for young offenders. Special laws address specific categories of crime including narcotics, corruption, and terrorism. International conventions facilitate cross-border cooperation in combating transnational crimes. Mutual legal assistance treaties enable evidence collection and extradition between nations. Human rights instruments set standards for treatment of persons in custody. Judicial precedents establish binding interpretations of legal provisions. Administrative law governs functioning of police departments and conduct of personnel. Service regulations define duties, responsibilities, and disciplinary procedures for officers. Right to information act promotes transparency in government operations. Data protection legislation regulates collection and use of personal information. Whistleblower protection laws encourage reporting of corruption and misconduct."
            ]
        },
        hindi: {
            low: [
                "पुलिस विभाग समुदाय की सेवा समर्पण और सम्मान के साथ करता है। अधिकारी दिन रात शांति और व्यवस्था बनाए रखने के लिए काम करते हैं। वे नागरिकों को अपराध से बचाते हैं और सार्वजनिक सुरक्षा सुनिश्चित करते हैं। पुलिस अधिकारी विभिन्न स्थितियों से निपटने के लिए कठोर प्रशिक्षण से गुजरते हैं। वे आपातकालीन कॉलों का जवाब देते हैं और अपराधों की जांच करते हैं। विभाग राज्य में कानून और व्यवस्था बनाए रखता है। अधिकारी सड़कों पर गश्त करते हैं और आपराधिक गतिविधियों को रोकते हैं। वे जरूरतमंद लोगों की मदद करते हैं और आपात स्थिति में सहायता प्रदान करते हैं। पुलिस बल जनता की सेवा के लिए प्रतिबद्ध है। प्रत्येक अधिकारी न्याय को बनाए रखने और निर्दोषों की रक्षा करने की शपथ लेता है। सामुदायिक पुलिसिंग नागरिकों और अधिकारियों के बीच विश्वास बनाने में मदद करती है। विभाग अपराध से प्रभावी ढंग से लड़ने के लिए आधुनिक तकनीक का उपयोग करता है। पुलिस कर्मी अपने कौशल में सुधार के लिए नियमित प्रशिक्षण कार्यक्रमों में भाग लेते हैं। वे अन्य कानून प्रवर्तन एजेंसियों के साथ समन्वय में काम करते हैं। बल सभी आपराधिक गतिविधियों का विस्तृत रिकॉर्ड रखता है। अधिकारियों को प्राथमिक चिकित्सा और आपातकालीन प्रतिक्रिया में प्रशिक्षित किया जाता है। वे नियमित रूप से सामुदायिक जागरूकता कार्यक्रमों में भाग लेते हैं। विभाग चिंताओं को दूर करने के लिए नियमित सार्वजनिक बैठकें आयोजित करता है। पुलिस स्टेशन किसी भी समय सभी नागरिकों के लिए सुलभ हैं। बल अपने सभी कार्यों में पारदर्शिता बनाए रखता है।",
                "कानून प्रवर्तन किसी भी लोकतांत्रिक समाज का एक महत्वपूर्ण स्तंभ है। पुलिस बल शांति बनाए रखता है और नागरिकों के अधिकारों की रक्षा करता है। अधिकारी पुलिसिंग के विभिन्न पहलुओं में व्यापक प्रशिक्षण से गुजरते हैं। वे आपराधिक कानून, जांच तकनीक और सामुदायिक संबंधों के बारे में सीखते हैं। विभाग सभी कार्यों में सख्त प्रोटोकॉल और प्रक्रियाओं का पालन करता है। पुलिस कर्मियों को शांति के साथ कठिन परिस्थितियों को संभालने के लिए प्रशिक्षित किया जाता है। वे केवल आवश्यक और उचित होने पर ही उचित बल का उपयोग करते हैं। बल सभी मामलों और घटनाओं का विस्तृत दस्तावेजीकरण बनाए रखता है। अधिकारी जटिल आपराधिक मामलों को हल करने के लिए टीमों में काम करते हैं। वे फोरेंसिक विशेषज्ञों और अन्य विशेषज्ञों के साथ समन्वय करते हैं। विभाग अपराध का पता लगाने और रोकथाम के लिए उन्नत तकनीक का उपयोग करता है। पुलिस स्टेशन आधुनिक संचार प्रणालियों से सुसज्जित हैं। अधिकारी अपने निर्धारित क्षेत्रों में नियमित गश्त कार्यक्रम बनाए रखते हैं। वे नागरिकों के साथ बातचीत करते हैं और उनकी चिंताओं को तुरंत संबोधित करते हैं। बल विभिन्न सामाजिक मुद्दों पर जागरूकता कार्यक्रम आयोजित करता है। पुलिस कर्मी यातायात प्रबंधन और सड़क सुरक्षा अभियानों में भाग लेते हैं। वे आपदा प्रबंधन और राहत कार्यों में मदद करते हैं।",
                "प्रशासनिक कर्तव्य पुलिस कार्य का एक महत्वपूर्ण हिस्सा हैं। अधिकारी सभी गतिविधियों और घटनाओं का विस्तृत रिकॉर्ड रखते हैं। वे रिपोर्ट तैयार करते हैं और उन्हें वरिष्ठ अधिकारियों को प्रस्तुत करते हैं। विभाग स्पष्ट जिम्मेदारियों के साथ एक पदानुक्रमित संरचना का पालन करता है। पुलिस कर्मी नियमित बैठकों और ब्रीफिंग में भाग लेते हैं। वे मामलों पर चर्चा करते हैं, जानकारी साझा करते हैं और कार्यों की योजना बनाते हैं। बल डेटा प्रबंधन और विश्लेषण के लिए कंप्यूटर सिस्टम का उपयोग करता है। अधिकारियों को रिपोर्ट लेखन और दस्तावेजीकरण में प्रशिक्षित किया जाता है। वे मामलों की विभिन्न श्रेणियों के लिए रजिस्टर बनाए रखते हैं। विभाग नियमित ऑडिट और निरीक्षण करता है। पुलिस स्टेशनों को उचित खाते बनाए रखने की आवश्यकता होती है। अधिकारी सार्वजनिक शिकायतों को संभालते हैं और विवादों को हल करते हैं। वे नागरिक मामलों में मध्यस्थता करते हैं और संघर्षों को रोकते हैं। बल अन्य सरकारी विभागों के साथ संपर्क बनाए रखता है। पुलिस कर्मी चुनाव ड्यूटी और सार्वजनिक कार्यक्रमों में सहायता करते हैं। वे त्योहारों के दौरान उचित भीड़ प्रबंधन सुनिश्चित करते हैं।"
            ],
            medium: [
                "उत्तर प्रदेश पुलिस का समर्पण और व्यावसायिकता के साथ लोगों की सेवा करने का एक विशिष्ट इतिहास है। ब्रिटिश युग के दौरान स्थापित, यह भारत में सबसे बड़ी राज्य पुलिस बलों में से एक के रूप में विकसित हुआ है। विभाग पुलिस महानिदेशक की देखरेख में संचालित होता है जो सीधे राज्य सरकार को रिपोर्ट करता है। विभिन्न विशेष इकाइयां अपराध जांच, खुफिया जानकारी, यातायात प्रबंधन और आतंकवाद विरोधी कार्यों सहित विशिष्ट जिम्मेदारियों को संभालती हैं। बल सुसज्जित पुलिस स्टेशनों और चौकियों के साथ सभी जिलों में एक मजबूत उपस्थिति बनाए रखता है। अधिकारियों की भर्ती राज्य भर्ती बोर्ड द्वारा आयोजित प्रतियोगी परीक्षाओं के माध्यम से की जाती है। विभिन्न स्थानों पर तैनात होने से पहले वे पुलिस अकादमियों में व्यापक प्रशिक्षण से गुजरते हैं। पाठ्यक्रम में शारीरिक प्रशिक्षण, हथियार संचालन, कानून प्रवर्तन प्रक्रियाएं और सामुदायिक संबंध शामिल हैं। आधुनिक तकनीक समकालीन पुलिसिंग विधियों में महत्वपूर्ण भूमिका निभाती है। विभाग ने अपराध रिकॉर्ड, वाहन पंजीकरण और नागरिक सेवाओं के लिए कंप्यूटरीकृत प्रणालियों को लागू किया है। डिजिटल प्लेटफॉर्म नागरिकों को ऑनलाइन शिकायत दर्ज करने और उनकी प्रगति को ट्रैक करने में सक्षम बनाते हैं। मोबाइल एप्लिकेशन आपातकालीन सेवाओं और जानकारी तक त्वरित पहुंच प्रदान करते हैं। बल ने संकट का सामना करने वाली महिलाओं, वरिष्ठ नागरिकों और बच्चों के लिए समर्पित हेल्पलाइन स्थापित की हैं। विशेष इकाइयां साइबर अपराध, आर्थिक अपराधों और संगठित आपराधिक गतिविधियों की जांच करती हैं। विभाग प्रमुख जांच और संचालन के लिए केंद्रीय एजेंसियों के साथ सहयोग करता है।",
                "आपराधिक जांच एक जटिल प्रक्रिया है जिसमें विशेष कौशल और व्यवस्थित दृष्टिकोण की आवश्यकता होती है। जांचकर्ता भौतिक साक्ष्य और दस्तावेज एकत्र करने के लिए अपराध स्थलों की सावधानीपूर्वक जांच करते हैं। वे प्रासंगिक जानकारी एकत्र करने के लिए गवाहों, पीड़ितों और संदिग्धों का साक्षात्कार लेते हैं। फोरेंसिक विशेषज्ञ वैज्ञानिक तरीकों और उन्नत तकनीक का उपयोग करके साक्ष्य का विश्लेषण करते हैं। जांच टीम सभी कार्यवाही के उचित दस्तावेजीकरण के साथ विस्तृत केस फाइलें बनाए रखती है। अधिकारी अदालत में साक्ष्य की स्वीकार्यता सुनिश्चित करने के लिए कानूनी प्रक्रियाओं का पालन करते हैं। तलाशी अभियान उचित वारंट और प्राधिकरण के साथ किए जाते हैं। संदिग्धों की निगरानी और खुफिया जानकारी एकत्र करने के लिए निगरानी तकनीकों का उपयोग किया जाता है। विभाग अपराधियों, चोरी की संपत्ति और फिंगरप्रिंट के डेटाबेस को बनाए रखता है। आधुनिक तकनीक साक्ष्य के त्वरित सत्यापन और मिलान को सक्षम बनाती है। जांचकर्ता अंतरराज्यीय मामलों के लिए अन्य कानून प्रवर्तन एजेंसियों के साथ समन्वय करते हैं। वे अपराधों के बीच पैटर्न और कनेक्शन की पहचान करने के लिए विश्लेषणात्मक उपकरणों का उपयोग करते हैं। अभियोजन टीम मजबूत मामले बनाने के लिए जांचकर्ताओं के साथ मिलकर काम करती है। अधिकारी आरोप पत्र तैयार करते हैं और अदालतों के सामने साक्ष्य प्रस्तुत करते हैं।",
                "पुलिस प्रशासन में कानून प्रवर्तन गतिविधियों से परे विभिन्न जिम्मेदारियां शामिल हैं। अधिकारी मानव संसाधन, वित्तीय आवंटन और बुनियादी ढांचे के विकास का प्रबंधन करते हैं। विभाग वार्षिक बजट तैयार करता है और उन्हें सरकार को प्रस्तुत करता है। संसाधन योजना कर्मियों और उपकरणों की इष्टतम तैनाती सुनिश्चित करती है। पुलिस कर्मियों के कौशल और ज्ञान को बढ़ाने के लिए प्रशिक्षण सुविधाओं को बनाए रखा जाता है। बल नियमित प्रदर्शन मूल्यांकन और योग्यता आकलन करता है। पदोन्नति नीतियां सेवा रिकॉर्ड, परीक्षाओं और विभागीय आवश्यकताओं पर आधारित हैं। अधिकारी अनुशासनात्मक मामलों को संभालते हैं और आवश्यक होने पर आंतरिक जांच करते हैं। विभाग आवास, चिकित्सा सुविधाओं और शैक्षिक सहायता सहित कर्मियों के लिए कल्याण योजनाओं को बनाए रखता है। प्रशासनिक इकाइयां सुचारू संचालन के लिए विभिन्न सरकारी विभागों के साथ समन्वय करती हैं। पुलिस स्टेशन नियमों द्वारा अनिवार्य उचित रिकॉर्ड बनाए रखते हैं।"
            ],
            high: [
                "समकालीन कानून प्रवर्तन अभूतपूर्व चुनौतियों का सामना करता है जिसमें परिष्कृत रणनीतियों और बहुविषयक दृष्टिकोण की आवश्यकता होती है। प्रौद्योगिकी के प्रसार ने पारंपरिक अपराध पैटर्न को बदल दिया है जिससे जांच पद्धतियों के निरंतर अनुकूलन की आवश्यकता है। साइबर अपराधी डिजिटल बुनियादी ढांचे में कमजोरियों का फायदा उठाते हैं और सापेक्ष दण्डमुक्ति के साथ भौगोलिक सीमाओं के पार संचालन करते हैं। वित्तीय धोखाधड़ी तेजी से जटिल हो गई है जिसमें शेल कंपनियों और क्रिप्टोकरेंसी लेनदेन के जटिल नेटवर्क शामिल हैं। संगठित आपराधिक सिंडिकेट कॉर्पोरेट जैसी दक्षता के साथ काम करते हैं उन्नत संचार प्रणालियों और काउंटर निगरानी तकनीकों का उपयोग करते हुए। आतंकवाद एक लगातार खतरा बना हुआ है चरमपंथी संगठन भर्ती कट्टरपंथीकरण और परिचालन योजना के लिए सोशल मीडिया का उपयोग करते हैं। नशीली दवाओं की तस्करी नेटवर्क ट्रांसनेशनल उद्यमों में विकसित हुए हैं जो संस्थानों को भ्रष्ट करते हैं और समाजों को अस्थिर करते हैं। मानव तस्करी फलती फुलती है दबाव धोखे और हिंसा के माध्यम से कमजोर आबादी का शोषण करती है। पर्यावरणीय अपराध जिनमें अवैध खनन वनों की कटाई और वन्यजीव तस्करी शामिल है पारिस्थितिक तंत्र को अपूरणीय क्षति पहुंचाते हैं। व्हाइट कॉलर अपराध कई क्षेत्राधिकारों को शामिल करने वाली परिष्कृत योजनाओं के माध्यम से राष्ट्रीय संसाधनों को खत्म करते हैं। भ्रष्टाचार शासन संरचनाओं को कमजोर करता है और संस्थानों में सार्वजनिक विश्वास को कम करता है। मनी लॉन्ड्रिंग संचालन जटिल वित्तीय लेनदेन के माध्यम से अवैध गतिविधियों से होने वाली आय को छुपाते हैं।",
                "फोरेंसिक विज्ञान ने वैज्ञानिक सिद्धांतों और तकनीकी नवाचारों के अनुप्रयोग के माध्यम से आपराधिक जांच में क्रांति ला दी है। डीएनए प्रोफाइलिंग उल्लेखनीय सटीकता के साथ जैविक नमूनों से व्यक्तियों की पहचान को सक्षम बनाती है। फिंगरप्रिंट विश्लेषण मौलिक बना हुआ है स्वचालित प्रणालियों द्वारा बढ़ाया गया जो लाखों रिकॉर्डों की तुरंत तुलना करता है। बैलिस्टिक परीक्षा शूटिंग घटनाओं में आग्नेयास्त्र पहचान और प्रक्षेपवक्र विश्लेषण को निर्धारित करती है। विष विज्ञान परीक्षण जैविक नमूनों में दवाओं जहर और अन्य पदार्थों की उपस्थिति का पता लगाता है। डिजिटल फोरेंसिक कंप्यूटर स्मार्टफोन और अन्य इलेक्ट्रॉनिक उपकरणों से साक्ष्य पुनर्प्राप्त करता है। फोरेंसिक लेखांकन वित्तीय लेनदेन को ट्रेस करता है और जटिल योजनाओं में अनियमितताओं की पहचान करता है। दस्तावेज़ परीक्षा प्रश्नगत दस्तावेजों को प्रमाणित करती है और जालसाजी का पता लगाती है। फोरेंसिक मनोविज्ञान आपराधिक व्यवहार में अंतर्दृष्टि प्रदान करता है और अपराधियों की प्रोफाइलिंग में सहायता करता है। फोरेंसिक कीटविज्ञान मृत्यु के समय और अन्य परिस्थितियों का अनुमान लगाने के लिए कीट साक्ष्य का उपयोग करता है।",
                "संवैधानिक प्रावधान मौलिक अधिकारों की गारंटी देते हैं जबकि कानून प्रवर्तन को सार्वजनिक व्यवस्था बनाए रखने के लिए सशक्त बनाते हैं। भारतीय दंड संहिता अपराधों को परिभाषित करती है और विभिन्न आपराधिक कृत्यों के लिए सजा निर्धारित करती है। दंड प्रक्रिया संहिता जांच परीक्षण और अपील के लिए प्रक्रियाओं को स्थापित करती है। साक्ष्य अधिनियम न्यायिक कार्यवाही में साक्ष्य की स्वीकार्यता और मूल्यांकन को नियंत्रित करता है। पुलिस बल राज्य पुलिस अधिनियमों और नियमों से प्राधिकार प्राप्त करते हैं। गिरफ्तारी की शक्तियों के लिए उचित संदेह और प्रक्रियात्मक सुरक्षा उपायों का पालन आवश्यक है। तलाशी और जब्ती संचालन के लिए उचित प्राधिकरण आवश्यक है सिवाय आपातकालीन परिस्थितियों में। हिरासत और अभिरक्षा नियम जांच के दौरान आरोपी व्यक्तियों के अधिकारों की रक्षा करते हैं। जमानत प्रावधान आरोपी की उपस्थिति सुरक्षित करने की आवश्यकता के साथ स्वतंत्रता हितों को संतुलित करते हैं।"
            ]
        }
    };

    // State management
    let currentLanguage = 'english';
    let currentDifficulty = 'low';
    let testActive = false;
    let startTime = null;
    let timerInterval = null;
    let testDuration = 15 * 60; // 15 minutes in seconds
    let remainingTime = testDuration;
    let currentParagraph = '';
    let currentWords = [];

    // DOM elements
    const btnEnglish = document.getElementById('btnEnglish');
    const btnHindi = document.getElementById('btnHindi');
    const btnStart = document.getElementById('btnStart');
    const textDisplay = document.getElementById('textDisplay');
    const typingInput = document.getElementById('typingInput');
    const timerElement = document.getElementById('timer');
    const wpmElement = document.getElementById('wpm');
    const accuracyElement = document.getElementById('accuracy');
    const correctWordsElement = document.getElementById('correctWords');
    const wrongWordsElement = document.getElementById('wrongWords');
    const resultModal = document.getElementById('resultModal');
    const btnCloseModal = document.getElementById('btnCloseModal');

    // Event Listeners
    btnEnglish.addEventListener('click', () => selectLanguage('english'));
    btnHindi.addEventListener('click', () => selectLanguage('hindi'));
    btnStart.addEventListener('click', startTest);
    typingInput.addEventListener('input', handleTyping);
    btnCloseModal.addEventListener('click', closeModal);

    // Listen for difficulty changes
    document.querySelectorAll('input[name="difficulty"]').forEach(radio => {
        radio.addEventListener('change', (e) => {
            currentDifficulty = e.target.value;
        });
    });

    function selectLanguage(lang) {
        currentLanguage = lang;
        
        // Update button states
        if (lang === 'english') {
            btnEnglish.classList.add('active');
            btnHindi.classList.remove('active');
        } else {
            btnHindi.classList.add('active');
            btnEnglish.classList.remove('active');
        }
    }

    function startTest() {
        // Reset state
        resetTest();
        
        // Get random paragraph
        const paragraphsArray = paragraphs[currentLanguage][currentDifficulty];
        currentParagraph = paragraphsArray[Math.floor(Math.random() * paragraphsArray.length)];
        currentWords = currentParagraph.split(/\s+/);
        
        // Display paragraph
        textDisplay.innerHTML = currentParagraph;
        if (currentLanguage === 'hindi') {
            textDisplay.classList.add('hindi');
            typingInput.classList.add('hindi');
        } else {
            textDisplay.classList.remove('hindi');
            typingInput.classList.remove('hindi');
        }
        
        // Enable input
        typingInput.disabled = false;
        typingInput.value = '';
        typingInput.focus();
        
        // Update button
        btnStart.textContent = 'Test In Progress...';
        btnStart.disabled = true;
        
        testActive = true;
    }

    function handleTyping() {
        if (!testActive) return;
        
        // Start timer on first keystroke
        if (!startTime) {
            startTime = Date.now();
            startTimer();
        }
        
        calculateMetrics();
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            remainingTime--;
            updateTimerDisplay();
            
            if (remainingTime <= 0) {
                endTest();
            }
        }, 1000);
    }

    function updateTimerDisplay() {
        const minutes = Math.floor(remainingTime / 60);
        const seconds = remainingTime % 60;
        timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        // Update timer color based on remaining time
        timerElement.classList.remove('warning', 'danger');
        if (remainingTime <= 60) {
            timerElement.classList.add('danger');
        } else if (remainingTime <= 180) {
            timerElement.classList.add('warning');
        }
    }

    function calculateMetrics() {
        const typedText = typingInput.value;
        const typedWords = typedText.trim().split(/\s+/).filter(word => word.length > 0);
        
        let correctCount = 0;
        let wrongCount = 0;
        
        // Word-by-word comparison
        typedWords.forEach((typedWord, index) => {
            if (index < currentWords.length) {
                if (typedWord === currentWords[index]) {
                    correctCount++;
                } else {
                    wrongCount++;
                }
            }
        });
        
        // Calculate time elapsed in minutes
        const timeElapsed = startTime ? (Date.now() - startTime) / 1000 / 60 : 0;
        
        // Calculate WPM (Words Per Minute)
        const wpm = timeElapsed > 0 ? Math.round(correctCount / timeElapsed) : 0;
        
        // Calculate accuracy
        const totalWords = typedWords.length;
        const accuracy = totalWords > 0 ? Math.round((correctCount / totalWords) * 100) : 100;
        
        // Update display
        wpmElement.textContent = wpm;
        accuracyElement.textContent = accuracy + '%';
        correctWordsElement.textContent = correctCount;
        wrongWordsElement.textContent = wrongCount;
        
        // Highlight words in display
        highlightWords(typedWords);
    }

    function highlightWords(typedWords) {
        let highlightedText = '';
        
        currentWords.forEach((word, index) => {
            if (index < typedWords.length) {
                const typedWord = typedWords[index];
                if (typedWord === word) {
                    highlightedText += `<span class="word correct">${word}</span> `;
                } else {
                    highlightedText += `<span class="word incorrect">${word}</span> `;
                }
            } else {
                highlightedText += `<span class="word">${word}</span> `;
            }
        });
        
        textDisplay.innerHTML = highlightedText;
    }

    function endTest() {
        testActive = false;
        clearInterval(timerInterval);
        typingInput.disabled = true;
        
        // Calculate final metrics
        const finalWPM = parseInt(wpmElement.textContent);
        const finalAccuracy = parseInt(accuracyElement.textContent);
        const finalCorrect = parseInt(correctWordsElement.textContent);
        const finalWrong = parseInt(wrongWordsElement.textContent);
        
        // Determine qualification
        const targetWPM = currentLanguage === 'english' ? 30 : 25;
        const qualified = finalWPM >= targetWPM;
        
        // Show result modal
        showResult(qualified, finalWPM, finalAccuracy, finalCorrect, finalWrong, targetWPM);
        
        // Reset button
        btnStart.textContent = 'Start New Test';
        btnStart.disabled = false;
    }

    function showResult(qualified, wpm, accuracy, correct, wrong, targetWPM) {
        const resultBadge = document.getElementById('resultBadge');
        const resultMessage = document.getElementById('resultMessage');
        
        if (qualified) {
            resultBadge.textContent = 'QUALIFIED';
            resultBadge.className = 'result-badge qualified';
            resultMessage.textContent = `Congratulations! You achieved ${wpm} WPM, exceeding the required ${targetWPM} WPM.`;
        } else {
            resultBadge.textContent = 'NOT QUALIFIED';
            resultBadge.className = 'result-badge not-qualified';
            resultMessage.textContent = `You achieved ${wpm} WPM. The required speed is ${targetWPM} WPM. Keep practicing!`;
        }
        
        document.getElementById('finalWPM').textContent = wpm;
        document.getElementById('finalAccuracy').textContent = accuracy + '%';
        document.getElementById('finalCorrect').textContent = correct;
        document.getElementById('finalWrong').textContent = wrong;
        
        resultModal.classList.add('active');
    }

    function closeModal() {
        resultModal.classList.remove('active');
    }

    function resetTest() {
        testActive = false;
        startTime = null;
        remainingTime = testDuration;
        clearInterval(timerInterval);
        
        // Reset displays
        timerElement.textContent = '15:00';
        timerElement.classList.remove('warning', 'danger');
        wpmElement.textContent = '0';
        accuracyElement.textContent = '100%';
        correctWordsElement.textContent = '0';
        wrongWordsElement.textContent = '0';
        
        typingInput.value = '';
    }

    // Handle ESC key to close modal
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && resultModal.classList.contains('active')) {
            closeModal();
        }
    });
</script>
```

</body>
</html>